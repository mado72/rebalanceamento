ID: {{ carteira._id }}
<pre class="debug">{{carteira | json}}</pre>
<table *ngIf="!! carteira" class="table table-striped">
    <thead>
        <tr class="table-dark">
            <th>
                Carteira: {{carteira.nome}}
                ({{carteira.tipoAtivo}} - {{carteira.moeda}})
            </th>
        </tr>
        <tr>
            <th>Ativo</th>
            <th class="text-center">Qtd. Atual</th>
            <th class="text-center">Vl. Inicial</th>
            <th class="text-center">Vl. Unitário</th>
            <th class="text-center">Patrimônio</th>
            <th class="text-center">Resultado</th>
            <th class="text-center">%Resultado</th>
            <th class="text-center">% Objetivo</th>
            <th class="text-center">% Atual</th>
            <th class="text-center">% Diferença</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let registro of carteira.items; index as index">
            <td>
                <pre class="debug">{{ registro | json }}</pre>
                <a (click)="selecionar(registro)" href="javascript:void(0)">
                    <b>{{registro.ativo && registro.ativo.sigla}}</b>
                </a>
            </td>
            <td class="text-end">{{registro.quantidade | number:'1.0-6'}}</td>
            <td class="text-end">{{registro.vlInicial | number:'1.2-2'}}</td>
            <td class="text-end">{{vlUnitario(registro) | number:'1.2-2'}}</td>
            <td class="text-end">{{registro.vlAtual | number:'1.2-2'}}</td>
            <td class="text-end">
                <ng-container *ngIf="registro.vlInicial">
                    {{registro.vlAtual || 0 - registro.vlInicial | number:'1.2-2'}}
                </ng-container>
            </td>
            <td class="text-end">
                <ng-container *ngIf="registro.vlInicial">
                    {{(registro.vlAtual || 0 - registro.vlInicial) / registro.vlInicial | percent:'1.2-2'}}
                </ng-container>
            </td>
            <td class="text-end">{{registro.objetivo | percent:'1.2-2'}}</td>
            <td class="text-end">{{carteira.percAtivo(registro) | percent:'1.2-2'}}</td>
            <td class="text-end">{{carteira.diferenca(registro) | percent:'1.2-2'}}</td>
        </tr>
    </tbody>
    <tfoot>
        <tr style="border-top: 1px solid black; background-color: silver;">
            <td></td>
            <td class="text-end"></td>
            <td class="text-end">{{totais.vlInicial | number: '1.2-2'}}</td>
            <td class="text-end"></td>
            <td class="text-end">{{totais.vlAtual || 0 | number: '1.2-2'}}</td>
            <td class="text-end">{{totais.resultado | number: '1.2-2'}}</td>
            <td class="text-end"></td>
            <td class="text-end">{{totais.objetivo | percent: '1.2-2'}}</td>
            <td class="text-end"></td>
            <td class="text-end"></td>
        </tr>
    </tfoot>
</table>
