<p>despesas-list works!</p>

<table *ngIf="!!pagamentos">
    <thead>
        <tr>
            <td>Despesa</td>
            <td>Dia Venc.</td>
            <td *ngFor="let mes of meses" [style.font-weight]="mes === mesCorrente ? 'bold' : null" >
                {{mes}}
            </td>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let despesa of despesasProgramadas | async">
            <td>
                <a [routerLink]="['/despesas/edit/', despesa.id]">
                    {{despesa.nome}}
                </a>
            </td>
            <td>{{despesa.diaVencimento}}</td>
            <td *ngFor="let mes of meses">

                <div *ngIf="!! despesa.id">
                    <ng-container 
                        [ngTemplateOutlet]="anteriorMesCorrente(mes) ?  textPagto : inputPagto" 
                        [ngTemplateOutletContext]="{mes,despesa,name:'pagto_'+mes+'_'+(despesa.id || 0)}">
                    </ng-container>
            </div>
        </td>
    </tr>
</tbody>
</table>

<pre class="debug">{{ pagamentos | json }}</pre>
<a routerLink="/despesas/edit">Criar Despesa</a>
|
<a routerLink="/despesas/pagamentos">Pagamentos</a>

<ng-template #inputPagto let-mes="mes" let-despesa="despesa" let-name="name">
        <input type="number" requires step="0.01" [name]="name" [(ngModel)]="pagamentos[mes][despesa.id].valor" />
</ng-template>

<ng-template #textPagto let-mes="mes" let-despesa="despesa">
    {{ pagamentos['' + mes][despesa.id].valor | number : '1.2-2' }}
</ng-template>
