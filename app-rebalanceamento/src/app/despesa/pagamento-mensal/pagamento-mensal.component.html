<p>pagamento-mensal works!</p>
<table>
    <thead>
        <tr>
            <td>Despesa</td>
            <td>Dia Venc.</td>
            <td>Pag. Mensal</td>
            <td>A pagar dia 10</td>
            <td>A pagar dia 20</td>
            <td>Pago</td>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let registro of pagamentos; index as idx">
            <td>{{registro.despesa.nome}}</td>
            <td>{{registro.despesa.diaVencimento}}</td>
            <td>
                <input type="number" step="0.01" name="registro" [(ngModel)]="registro.valor" 
                    (ngModelChange)="valorAlterado(registro)" [id]="'registro_'+idx"/>
            </td>
            <td>
                <ng-container *ngIf="!registro.pago">
                    <span *ngIf="registro.despesa.diaVencimento < 20">{{registro.valor}}</span>
                </ng-container>
            </td>
            <td>
                <ng-container *ngIf="!registro.pago">
                    <span *ngIf="registro.despesa.diaVencimento >= 20">{{registro.valor}}</span>
                </ng-container>
            </td>
            <td>
                <!-- {{registro.dataPagamento | date:'dd/MM'}} -->
                <input type="checkbox" name="pago" [(ngModel)]="registro.pago" 
                    (ngModelChange)="valorAlterado(registro)" />
            </td>
        </tr>
    </tbody>
    <tfoot>
        <td></td>
        <td></td>
        <td>{{total.pagamentos | number:'1.2-2'}}</td>
        <td>{{total.pagamentosAntecipados | number:'1.2-2'}}</td>
        <td>{{total.pagamentosRestantes | number:'1.2-2'}}</td>
        <td>{{total.pagos | number:'1.2-2'}}</td>
</tfoot>
</table>
<form>
    <button type="submit" class="btn btn-success" (click)="salvarAlteracoes() ">
        Salvar
    </button>
    <button type="button" class="btn btn-success" (click)="recuperarPagamentos()">
        Atualizar
    </button>
</form>
<pre class="debug">
    {{pagamentos | json}}
</pre>